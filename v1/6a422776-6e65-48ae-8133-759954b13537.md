This document describes how to set up a custom domain name (domain) with its DNS zone hosted by [Route53](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/Welcome.html). 

## 1. Set up hosted zones

To set up a hosted zone, provide the domain name via [support](https://spryker.force.com/support/s/). 

## 2. Point domain names to Route 53

For a domain to start using the created hosted zone:

1. In the AWS Management Console, go to **Services** > **Route 53**.
2. Select **Hosted Zones**.
3. Select the domain you want to point.
4. In the *Records* pane, locate the record with the *NS* type.
5. Copy the *Value* of this record, which is a list of nameservers.
6. On your domain registrar's side, set up the nameservers for your domain. Refer to the domain registrar's documentation for details.
7. Optional: [Set up a custom SSL certificate for the domain](https://cloud.spryker.com/docs/setting-up-a-custom-ssl-certificate).



## 3. Define domain names
In Spryker Cloud Commerce OS, infrastructure deployment is based on the application configuration. 
Domains are defined in a [deploy.*.yml](https://documentation.spryker.com/docs/deploy-file-reference-10) file used by the [Docker SDK](https://documentation.spryker.com/docs/docker-sdk) tool to build applications.

To define a custom domain, edit `deploy.{project_name}-prod.yml` for the production environment or `deploy.{project_name}-staging.yml` for the staging environment:

1. Find the desired `group:`.
2. In the `group: applications:`, find the desired application.
3. In the `endpoints:` section of the desired application, set the domain and its store relation:

```yaml
groups:
    DE-1:
        region: DE
        applications:
            Yves:
                application: yves
                endpoints:
                    {domain_name}:
                        store: {store_relation}
```
Example:

```yaml
groups:
    DE-1:
        region: DE
        applications:
            Yves:
                application: yves
                endpoints:
                    www.de.mysprykershop.com:
                        store: DE
```

:::(Warning) (Store configuration)
`store:` must correspond to `groups:` and `region:`. For example, it is impossible to set a US store in the DE region.
:::

See [Deploy File Reference - 1.0](https://documentation.spryker.com/docs/deploy-file-reference-10) to learn more about deploy file configuration.

4. Depending on the environment you are setting up the domain for: 

    * [Deploy the application in the production environment](deploying-in-a-production-environment).

    * [Deploy the application in the staging environment](deploying-in-a-staging-environment).


5.  Let us know about the desired change via [support](https://spryker.force.com/support/s/). 

Give the DNS configuration 24-48 hours to propagate and you will be able to access your application via the domain.



## Next step

[Setting up a custom SSL certificate](https://cloud.spryker.com/docs/setting-up-a-custom-ssl-certificate)
