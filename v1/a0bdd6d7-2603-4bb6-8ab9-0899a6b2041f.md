This document describes how to set up a custom domain name (domain) with a third-party DNS zone provider.


## 1. Point domain names to load balancers

To point a domain to your application, point it to the respective load balancer as follows:

1. In the AWS Management Console, go to **Services** > **EC2** > **Load Balancers**.
2. Depending on the environment, select one of the load balancers with the *application* type:
    * *{project_name}-staging*
    * *{project_name}-prod*

3. In the *Load balancer:{load balancer name}* section, select Copy ![copy icon](https://spryker.s3.eu-central-1.amazonaws.com/cloud-docs/Spryker+Cloud/Setting+up+a+custom+domain+name/Setting+up+a+custom+domain+name+with+a+third-party+DNS+zone+provider/copy-icon.png) next to the DNS name field.
 
4. On the side of the DNS zone provider, set up a CNAME record using the copied *DNS name* as the record value. Refer to the DNS zone providerâ€™s documentation for details.


## 2. Define domain names

In Spryker Cloud Commerce OS, infrastructure deployment is based on the application configuration. 

Domains are defined in a [deploy.*.yml](https://documentation.spryker.com/docs/deploy-file-reference-10) file used by the [Docker SDK](https://documentation.spryker.com/docs/docker-sdk) tool to build applications.

To define a custom domain, edit `deploy.{project_name}-prod.yml` for the production environment or `deploy.{project_name}-staging.yml` for the staging environment:

1. Find the desired `group:`.
2. In the `group: applications:`, find the desired application.
3. In the `endpoints:` section of the desired application, set the domain and its store relation:

```yaml
groups:
    DE-1:
        region: DE
        applications:
            Yves:
                application: yves
                endpoints:
                    {domain_name}:
                        store: {store_relation}
```
Example:

```yaml
groups:
    DE-1:
        region: DE
        applications:
            Yves:
                application: yves
                endpoints:
                    www.de.mysprykershop.com:
                        store: DE
```

:::(Warning) (Store configuration)
`store:` must correspond to `groups:` and `region:`. For example, it is impossible to set a US store in the DE region.
:::

See [Deploy File Reference - 1.0](https://documentation.spryker.com/docs/deploy-file-reference-10) to learn more about deploy file configuration.

4. Depending on the environment you are setting up the domain for: 

    * [Deploy the application in the production environment](deploying-in-a-production-environment).

    * [Deploy the application in the staging environment](deploying-in-a-staging-environment).

## Next step

[Setting up a custom SSL certificate](https://cloud.spryker.com/docs/setting-up-a-custom-ssl-certificate)
 